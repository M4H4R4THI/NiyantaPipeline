<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>NIYANTATVA</title>
    <script src="https://kit.fontawesome.com/41f07e5f99.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../static/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
  <body>
    <div class="left_layout container text-center">
        <div class="row">
          <div class="col-1 left">
            <div class="logo">
            </div>
            <div class="menu btn-group-vertical" role="group" aria-label="Vertical button group">
                <button type="button" id="btn_dashboard" class="btn"><i class="fas fa-wave-square"></i></button>
                <button type="button" id="btn_vibration" class="btn"><i class="fas fa-signature"></i></button>
                <button type="button" id="btn_flow" class="btn"><i class="fas fa-tint"></i></button>
                <button type="button" id="btn_gps" class="btn"><i class="fas fa-map-marker-alt"></i></button>
              </div>
          </div>



<!-- -------------------------------------------------------------------------- -->
          <div class="col-8 mid">
            <!-- Clock -->
                <div class="mid_top_layout">
                    <span>
                        <h1>overview</h1>
                        <h4>Analytics</h4>
                    </span>
                    <div class="clock">
                        <div><button type="button"id="status"></button></div>
                        <div>
                        <div id="clock"></div>
                        <img src="../static/images/Animated-Flag-Nepal.gif" alt="">
                        </div>
                    </div>
                </div>



            <div class="master btn-group" role="group" aria-label="Basic mixed styles example">
                <button type="button" class="aa btn"><p>Amplitude</p>
                    <span>123 m</span>
                </button>
                <button type="button" class="bb btn"><p>Frequency</p>
                    <span>576 Hz</span></button>
                <button type="button" class="cc btn"><p>Flow</p>
                    <span>696 l/min</span></button>
                <button type="button" class="dd btn "><p>Quantity</p>
                    <span>264 ltr</span></button>
              </div>
              <div id ="dashboard" class="row display">
                <div id="masterdisplay" class="row">
                    {% comment %} <div class="masterdisplay first col"><img src="../static/images/flow.png"></div> {% endcomment %}
                    <div class="masterdisplay first col">
                        <canvas id="FlowRateB-chart" width="400" height="200"></canvas>
                    </div>
                    {% comment %} <div class="masterdisplay second col"><img src="../static/images/vibration.jpg"></div> {% endcomment %}
                    <div class="masterdisplay second col">
                        <canvas id="VibrationSensorA-chart" width="400" height="200"></canvas>
                    </div>
                </div>
                <div class="row">
                    <div class="masterdisplay third col"><iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d7070.458054911225!2d85.53523099999997!3d27.61742260000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2snp!4v1696081275743!5m2!1sen!2snp" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe></div>
                    <div class="masterdisplay forth col"><img src="../static/images/linear.png" alt=""></div>
                </div>
              </div>
              <div id ="flow" class="row display"><img src="../static/images/flow.png"></div>
              <div id ="vibration" class="row display"><img src="../static/images/vibration.jpg"></div>
              <div id ="gps" class="row display"><iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d7070.458054911225!2d85.53523099999997!3d27.61742260000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2snp!4v1696081275743!5m2!1sen!2snp" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe></div>

              <div class="row Readings">
                <h2>READING</h2>
                <table>
                    <th></th>
                    <tr><td>
                        <i class="fas fa-book-open"></i>
                    </td></tr>
                </table>
            </div>
          </div>



<!-- -------------------------------------------------------------------------- -->
          <div class="col-3 right">
            <div class="right-top">
                <div class="admin"><button type="button">A</button></div>
                <div class="notification"><button type="button"><i class="fas fa-bell"></i></button>
                <div class="count">6</div></div>
            </div>
            <div class="right_analysis">
                <div class="box right_analysis_1">
                    <h3>Amplitude Analysis</h3>
                    <div class="right_analysis_1_layout">
                        <div class="analysis_left">
                            <div class="analysis_value1"><p>High</p><span>1234</span></div>
                            <div class="analysis_value2"><p>Duration</p><span>1234</span></div>
                            <div class="analysis_value3"><p>Issue</p><span>10%</span></div>
                        </div>
                        <div class="analysis_pie">
                            <img src="../static/images/pie_chart.jpg" alt="piechart">
                        </div>
                    </div>
                </div>
                <div class="box right_analysis_2" >
                    <h2>GPS Track</h2>
                    <div class="analysis_graph"><iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d7070.458054911225!2d85.53523099999997!3d27.61742260000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2snp!4v1696081275743!5m2!1sen!2snp" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe></div>
                </div>
            </div>
          </div>
        </div>
      </div>
      <footer>
        <div class="container">
            <div class="grid">
                <div class="col">
                    <div class="row">
                        <h3>niyantaPIPELINE</h3>
                        <p>Designed and built with all the love in the world by team MahaRati with the help of our contributors.
                    </div>
                </div>
                <div class="col">
                    <h3>ABOUT</h3>
                    <ul>
                        <li><a href="#">Projects</a></li>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Blog</a></li>
                        <li><a href="#">Award</a></li>
                    </ul>
                </div>
                <div class="col">
                    <h3>Contact US</h3>
                    <ul>
                        <li>Dhulikhel, Banepa</li>
                        <li>info@kathmanduuniversity.com.np</li>
                        <li>+01-123456789</li>
                    </ul>
                </div>
            </div>
        
      </footer>
      <script>

        function updateClock() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');

            const timeString = `${hours}:${minutes}:${seconds}`;
            document.getElementById('clock').textContent = timeString;
        }

        // Update the clock every second
        setInterval(updateClock, 1000);

        // Initial update
        updateClock();
        
        const divA = document.getElementById("dashboard");
        const divB = document.getElementById("vibration");
        const divC = document.getElementById("flow");
        const divD = document.getElementById("gps");

        const btnA = document.getElementById("btn_dashboard");
        const btnB = document.getElementById("btn_flow");
        const btnC = document.getElementById("btn_vibration");
        const btnD = document.getElementById("btn_gps");

        function showDiv(targetDiv) {
            // Hide all divs
            divA.style.display = "none";
            divB.style.display = "none";
            divC.style.display = "none";
            divD.style.display = "none";

            // Show the target div
            targetDiv.style.display = "block";
        }

        btnA.addEventListener("click", () => showDiv(divA));
        btnB.addEventListener("click", () => showDiv(divB));
        btnC.addEventListener("click", () => showDiv(divC));
        btnD.addEventListener("click", () => showDiv(divD));

        // Initially display div A
        showDiv(divA);






    </script>
    <script>
        let capturedData = [];

console.log = function (message) {
    try {
        const data = JSON.parse(message);
        capturedData.push(data);
        processCapturedData(data);
    } catch (error) {
        console.error('Error parsing data:', error);
    }
};

function processCapturedData(data) {
    if (data.sensor === 'Flow Rate B') {
        createGraphForFlowRateB(data);
    } else if (data.sensor === 'Flow Rate A') {
        createGraphForFlowRateA(data);
    } else if (data.sensor === 'Vibration Sensor A') {
        createGraphForVibrationSensorA(data);
    } else if (data.sensor === 'Vibration Sensor B') {
        createGraphForVibrationSensorB(data);
    }
}

function createGraph(sensor, data) {

    const canvasId = `${sensor}-chart`;
    const ctx = document.getElementById(canvasId).getContext('2d');
    
    const labels = data.map(item => item.timestamp);
    const values = data.map(item => item.value);

    new Chart(ctx, {
        type: 'line', 
        data: {
            labels: labels,
            datasets: [{
                label: sensor,
                data: values,
                borderColor: 'blue', 
                borderWidth: 2,
                fill: false,
            }],
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                x: {
                    type: 'time', 
                    time: {
                        unit: 'second', 
                    },
                },
            },
        },
    });
}

function createGraphForFlowRateB(data) {
    createGraph('Flow Rate B', data);
}

function createGraphForFlowRateA(data) {
    createGraph('Flow Rate A', data);
}

function createGraphForVibrationSensorA(data) {
    createGraph('Vibration Sensor A', data);
}

function createGraphForVibrationSensorB(data) {
    createGraph('Vibration Sensor B', data);
}

    </script>

    <script>function fetchData() {
    fetch('/read_arduino_data/')  // Replace with your actual URL#}
        .then(response => response.json())
        .then(data => {
            console.log('Received data from server:', data);
        })
        .catch(error => {
            console.error('Error fetching data:', error);
        });
}

// Fetch data every 5 seconds (adjust the interval as needed)
setInterval(fetchData, 5000);</script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  </body>
</html>




























<!-- 




<!doctype html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="../css/style.css">
  
  <script src="https://kit.fontawesome.com/41f07e5f99.js" crossorigin="anonymous"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Maharati</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  </head>
  <body>
    <div class="container">
        <section class="display">
            <section class="content display">
                <section id="left-panel">
                    <section id="logo">
                    <img src="../images/me.jpg" alt="">
                    </section>
                    <section class="menu">
                        <ul>
                            <li><button><i class="fa-duotone fa-copy"></i></button></li>
                            <li><button>B</button></li>
                            <li><button>C</button></li>
                            <li><button>D</button></li>
                            <li><button>E</button></li>
                        </ul>
                    </section>
            </section>
            <section id="middle-panel">
                <h1>Overview</h1>
                <h4 style="padding-top:20px;">Analytics</h4>
                <div class="master_analytics bold">
                <div class="aa box">Record A</div>
                <div class="bb box">Record B</div>
                <div class="cc box">Record C</div>
                <div class="dd box">Record D</div> 
                </div>
<<<<<<< HEAD
                <section class="main">
                    <div class="container">
                        <h1 class="mt-4">Water Flow Rate Monitor</h1>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group mt-4">
                                    <label for="flowRateSelect">Select Flow Rate (1 to 10 liters/sec):</label>
                                    <select class="form-control" id="flowRateSelect">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10">10</option>
                                    </select>
                                </div>
                                <button class="btn btn-primary mt-2" id="submitButton">Submit</button>
                            </div>
                            <div class="col-md-8">
                                <div class="graph-container mt-4">
                                    <canvas class="graph" id="graph"></canvas>
                                </div>
                                <div id="regressionResult" class="mt-3"></div>
                            </div>
                        </div>
                        <div class="pie-chart-container mt-4">
                            <canvas class="pie-chart" id="pieChart"></canvas>
                        </div>
                    </div>
                </section>
            </section>
            <section id="right-panel">

            </section>
        </section>
=======
                
                <section class="main">
                    a
                </section>
            </section>
            <section id="right-panel">

            </section>
        </div>
>>>>>>> 762f9c6 (monitoring dashboard)
    </section>
</section>
    <section class="footer"></section>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../front_end/js/pie.js"></script>
    <script src="../front_end/js/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  </body>
</html> -->